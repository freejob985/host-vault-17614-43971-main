# 🔐 شرح نظام التسجيل التلقائي

## كيف يعمل النظام؟

تم تطوير نظام متكامل للتعبئة التلقائية يعمل **بدون الحاجة لتثبيت Tampermonkey**!

---

## 🎯 الآلية

### 1. عند الضغط على "فتح مع البيانات"

```
[بطاقة الاستضافة] 
    ↓ الضغط على "فتح مع البيانات"
    ↓
[صفحة وسيطة: auto-login.html]
    ↓ عرض البيانات والحالة
    ↓ محاولة حقن الكود التلقائي
    ↓
[الموقع المستهدف - cPanel/Plesk/etc]
    ↓ ملء الحقول تلقائياً
    ↓ إرسال النموذج (اختياري)
    ↓
[تسجيل دخول ناجح! ✓]
```

### 2. الرابط المُنشأ

عند الضغط على الزر، يتم إنشاء رابط بهذا الشكل:

```
http://localhost:5173/auto-login.html?url=https://example.com:2083&username=user123&password=pass123&auto_submit=true
```

**المعاملات:**
- `url`: رابط الموقع المستهدف (cPanel, Plesk, إلخ)
- `username`: اسم المستخدم
- `password`: كلمة المرور
- `auto_submit`: `true` للإرسال التلقائي، `false` للملء فقط

---

## 🚀 المميزات

### ✅ يعمل بدون Tampermonkey
- لا حاجة لتثبيت إضافات خارجية
- يعمل مباشرة من المتصفح

### ✅ صفحة وسيطة جميلة
- تعرض الحالة الحالية
- رسوم متحركة احترافية
- معلومات مفصلة عن العملية

### ✅ أنماط بحث شاملة
- دعم أكثر من 30 نمط لحقل اسم المستخدم
- دعم أكثر من 20 نمط لحقل كلمة المرور
- دعم أكثر من 15 نمط لزر الإرسال

### ✅ محاولات متعددة ذكية
- يحاول 5 مرات إيجاد الحقول
- يعمل مع الصفحات البطيئة
- يدعم النماذج المحملة ديناميكياً

---

## 🔧 كيفية الاستخدام

### الطريقة 1: فتح مع البيانات (مُوصى بها)
1. اضغط على زر **"فتح مع البيانات"** في بطاقة الاستضافة
2. ستفتح صفحة وسيطة جميلة تعرض:
   - ✓ الموقع المستهدف
   - ✓ اسم المستخدم
   - ✓ كلمة المرور (مخفية)
   - ✓ حالة الإرسال التلقائي
3. سيتم فتح الموقع المستهدف تلقائياً
4. **في معظم الحالات:** ستُملأ الحقول وسيتم الإرسال تلقائياً ✨
5. **إذا لم يعمل:** ستظهر البيانات في صفحة الوسيطة - انسخها والصقها يدوياً

### الطريقة 2: فتح الرابط فقط
1. اضغط على زر **"فتح الرابط"**
2. ستُملأ الحقول تلقائياً لكن بدون إرسال
3. اضغط Enter أو زر تسجيل الدخول يدوياً

### الطريقة 3: نسخ جميع المعلومات
1. اضغط على زر **"نسخ جميع المعلومات"**
2. سيتم نسخ جميع البيانات إلى الحافظة بتنسيق منظم
3. افتح الموقع والصق البيانات يدوياً

---

## ⚠️ ملاحظات مهمة

### قيود CORS (Cross-Origin Resource Sharing)

بسبب سياسات الأمان في المتصفحات، قد لا يعمل حقن الكود مع بعض المواقع:

#### ✅ سيعمل مع:
- المواقع التي لا تستخدم CORS صارم
- المواقع على نفس الـ origin
- المواقع التي تسمح بـ `iframe`

#### ❌ قد لا يعمل مع:
- المواقع ذات سياسات CORS صارمة
- المواقع التي تمنع `X-Frame-Options`
- بعض لوحات التحكم الحديثة جداً

### الحل البديل

إذا لم يعمل الحقن التلقائي:

1. **الصفحة الوسيطة ستعرض البيانات** في واجهة جميلة
2. **انسخ البيانات** المعروضة
3. **الصق في الموقع المستهدف** يدوياً

أو استخدم السكريبت `auto-login.user.js` مع Tampermonkey (انظر `USERSCRIPT_GUIDE.md`)

---

## 🎨 واجهة صفحة الوسيطة

```
┌──────────────────────────────────┐
│     🔄 أيقونة متحركة            │
│                                  │
│   جاري تسجيل الدخول             │
│   جاري تحضير البيانات...        │
│                                  │
│   [==============] شريط تقدم     │
│                                  │
│   📋 معلومات الاتصال:           │
│   🌐 الموقع: example.com        │
│   👤 المستخدم: user123          │
│   🔐 كلمة المرور: •••••         │
│   📤 إرسال تلقائي: نعم ✓        │
│                                  │
│   📟 سجل النشاط:                │
│   [10:30:15] جاري الفتح...      │
│   [10:30:16] تم الفتح ✓          │
│   [10:30:17] حقن الكود...        │
└──────────────────────────────────┘
```

---

## 🔍 أنماط البحث المدعومة

### حقول اسم المستخدم:
```javascript
// name attribute
'user', 'username', 'email', 'login', 'account', 'userid'

// id attribute
'user', 'username', 'email', 'login', 'user_id'

// type attribute
'text', 'email', 'tel'

// placeholder
'username', 'email', 'enter username'

// data attributes
'data-testid="user"', 'data-test="username"'
```

### حقول كلمة المرور:
```javascript
// name attribute
'pass', 'password', 'passwd', 'pwd', 'user_pass'

// id attribute
'pass', 'password', 'user_pass'

// type
'password'
```

### أزرار الإرسال:
```javascript
'button[type="submit"]'
'input[type="submit"]'
'button[name*="login"]'
'button[id*="login"]'
'#login_submit'
'.login-btn button'
```

---

## 📝 أمثلة التطبيق

### مثال 1: cPanel
```html
<form id="login_form">
    <input name="user" id="user" type="text">
    <input name="pass" id="pass" type="password">
    <button type="submit">Log in</button>
</form>
```
✅ **سيعمل تلقائياً** - الأنماط متطابقة 100%

### مثال 2: Plesk
```html
<form>
    <input name="login_name" type="text">
    <input name="passwd" type="password">
    <button type="submit">Login</button>
</form>
```
✅ **سيعمل تلقائياً** - مدعوم في المصفوفات

### مثال 3: WordPress
```html
<form name="loginform">
    <input type="text" name="log" id="user_login">
    <input type="password" name="pwd" id="user_pass">
    <input type="submit" id="wp-submit">
</form>
```
✅ **سيعمل تلقائياً** - أنماط WordPress مدعومة

### مثال 4: موقع بأسماء غير قياسية
```html
<form>
    <input name="custom_username_field" type="text">
    <input name="custom_password_field" type="password">
    <button id="custom_submit">Login</button>
</form>
```
⚠️ **قد لا يعمل تلقائياً** - استخدم "نسخ جميع المعلومات"

---

## 🔒 الأمان

### ✅ آمن
- جميع العمليات تتم في المتصفح محلياً
- لا يتم إرسال أي بيانات لخوادم خارجية
- الكود مفتوح المصدر - يمكن مراجعته

### ⚠️ تحذيرات
- البيانات تظهر في URL (شريط العنوان)
- قد تُسجل في Browser History
- لا تشارك الروابط مع أحد
- استخدم على شبكات آمنة فقط

### 🧹 للتنظيف
امسح Browser History بعد الاستخدام:
- Chrome: `Ctrl+H` → Clear browsing data
- Firefox: `Ctrl+H` → Clear Recent History

---

## 🐛 استكشاف الأخطاء

### المشكلة: النافذة لا تفتح
**الحل:** السماح بالنوافذ المنبثقة (Pop-ups) في إعدادات المتصفح

### المشكلة: الحقول لا تُملأ
**الحل:** 
1. تحقق من Console (F12) للرسائل
2. الموقع قد يستخدم أنماط غير مدعومة
3. استخدم "نسخ جميع المعلومات" والصق يدوياً

### المشكلة: النموذج لا يُرسل تلقائياً
**الحل:**
1. الموقع قد يستخدم Captcha
2. الموقع قد يستخدم 2FA
3. اضغط Enter أو زر تسجيل الدخول يدوياً

### المشكلة: ظهور خطأ CORS
**الحل:**
- هذا طبيعي مع بعض المواقع
- استخدم البيانات المعروضة في صفحة الوسيطة
- أو استخدم Tampermonkey (انظر USERSCRIPT_GUIDE.md)

---

## 📊 مقارنة الطرق

| الميزة | صفحة الوسيطة | Tampermonkey | نسخ يدوي |
|-------|--------------|--------------|----------|
| سهولة الاستخدام | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐ |
| لا يحتاج تثبيت | ✅ نعم | ❌ لا | ✅ نعم |
| يعمل مع جميع المواقع | ⚠️ معظم المواقع | ✅ نعم | ✅ نعم |
| تلقائي 100% | ⚠️ إذا سمح CORS | ✅ نعم | ❌ لا |
| آمن | ✅ نعم | ✅ نعم | ✅ نعم |

---

## 💡 نصائح

1. **جرّب "فتح مع البيانات" أولاً** - سيعمل مع معظم المواقع
2. **إذا لم يعمل،** استخدم "نسخ جميع المعلومات"
3. **للاستخدام المتكرر،** ثبّت Tampermonkey
4. **امسح History** بعد الاستخدام للأمان
5. **لا تشارك الروابط** مع أحد

---

## 📞 الدعم

للمزيد من المعلومات:
- `FEATURES_AR.md` - شرح الميزات بالتفصيل
- `USERSCRIPT_GUIDE.md` - دليل Tampermonkey الكامل

---

**استمتع باستخدام Host Vault! 🚀**
